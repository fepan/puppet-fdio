unix {
  nodaemon
  log /tmp/vpp.log
  full-coredump
}

dpdk {
  <% if @vpp_dpdk_devs.is_a? Array -%><% @vpp_dpdk_devs.each do |n| -%>
  dev <%=n-%> <% if @vpp_vlan_enabled && system("lspci -s #{n} | grep VIC") -%> {vlan-strip-offload off}<%end%>
  <% end -%><% end -%>
  uio-driver <%=@vpp_dpdk_uio_driver%>
}

cpu {
  <% if @vpp_cpu_main_core -%>main-core <%=@vpp_cpu_main_core%> <%end%>
  <% if @vpp_cpu_corelist_workers -%>corelist-workers <%=@vpp_cpu_corelist_workers%> <%end%>
}

api-trace {
  on
}

api-segment {
  gid vpp
}
